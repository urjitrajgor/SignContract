{"ast":null,"code":"'use strict';\n\nconst DAGLink = require('./../dag-link');\n\nconst _require = require('../util'),\n      cid = _require.cid,\n      serialize = _require.serialize;\n\nexports = module.exports;\n\nfunction cloneData(dagNode) {\n  let data;\n\n  if (dagNode.Data && dagNode.Data.length > 0) {\n    data = Buffer.alloc(dagNode.Data.length);\n    dagNode.Data.copy(data);\n  } else {\n    data = Buffer.alloc(0);\n  }\n\n  return data;\n}\n\nfunction cloneLinks(dagNode) {\n  return dagNode.Links.slice();\n}\n\nfunction linkSort(a, b) {\n  return Buffer.compare(a.nameAsBuffer, b.nameAsBuffer);\n}\n/*\n * toDAGLink converts a DAGNode to a DAGLink\n */\n\n\nconst toDAGLink = async (node, options = {}) => {\n  const serialized = serialize(node);\n  const nodeCid = await cid(serialized);\n  return new DAGLink(options.name || '', serialized.length, nodeCid);\n};\n\nexports.cloneData = cloneData;\nexports.cloneLinks = cloneLinks;\nexports.linkSort = linkSort;\nexports.toDAGLink = toDAGLink;","map":null,"metadata":{},"sourceType":"script"}