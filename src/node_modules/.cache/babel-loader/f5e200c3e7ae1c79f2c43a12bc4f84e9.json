{"ast":null,"code":"'use strict';\n\nconst dagNodeUtil = require('./util');\n\nconst cloneLinks = dagNodeUtil.cloneLinks;\nconst cloneData = dagNodeUtil.cloneData;\nconst toDAGLink = dagNodeUtil.toDAGLink;\n\nconst DAGLink = require('../dag-link');\n\nconst DAGNode = require('./index');\n\nconst create = require('./create');\n\nconst asDAGLink = async link => {\n  if (DAGLink.isDAGLink(link)) {\n    // It's a DAGLink instance\n    // no need to do anything\n    return link;\n  }\n\n  if (DAGNode.isDAGNode(link)) {\n    // It's a DAGNode instance\n    // convert to link\n    return toDAGLink(link, {});\n  } // It's a Object with name, multihash/hash/cid and size\n\n\n  return new DAGLink(link.Name || link.name, link.Tsize || link.size, link.Hash || link.multihash || link.hash || link.cid);\n};\n\nconst addLink = async (node, link) => {\n  const links = cloneLinks(node);\n  const data = cloneData(node);\n  const dagLink = await asDAGLink(link);\n  links.push(dagLink);\n  return create(data, links);\n};\n\nmodule.exports = addLink;","map":null,"metadata":{},"sourceType":"script"}