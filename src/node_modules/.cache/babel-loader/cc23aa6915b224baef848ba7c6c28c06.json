{"ast":null,"code":"'use strict';\n\nconst kindOf = require('kind-of');\n\nconst isStream = require('is-stream');\n\nconst _require = require('is-pull-stream'),\n      isSource = _require.isSource;\n\nconst isBuffer = require('is-buffer');\n\nconst validateAddInput = input => {\n  // Buffer|ReadableStream|PullStream|File\n  const isPrimitive = obj => isBuffer(obj) || isStream.readable(obj) || isSource(obj) || kindOf(obj) === 'file'; // An object like { content?, path? }, where content isBufferOrStream and path isString\n\n\n  const isContentObject = obj => {\n    if (typeof obj !== 'object') return false; // path is optional if content is present\n\n    if (obj.content) return isPrimitive(obj.content); // path must be a non-empty string if no content\n\n    return Boolean(obj.path) && typeof obj.path === 'string';\n  }; // An input atom: a buffer, stream or content object\n\n\n  const isInput = obj => isPrimitive(obj) || isContentObject(obj);\n\n  if (isInput(input) || Array.isArray(input) && input.every(isInput)) {\n    return true;\n  } else {\n    throw new Error(\"Input not supported. Expected Buffer|ReadableStream|PullStream|File|Array<Object> got \".concat(kindOf(input), \". Check the documentation for more info https://github.com/ipfs/interface-js-ipfs-core/blob/master/SPEC/FILES.md#add\"));\n  }\n};\n\nmodule.exports = validateAddInput;","map":null,"metadata":{},"sourceType":"script"}