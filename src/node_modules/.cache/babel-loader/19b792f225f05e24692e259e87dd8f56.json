{"ast":null,"code":"'use strict';\n\nconst _require = require('buffer'),\n      Buffer = _require.Buffer;\n\nconst crypto = self.crypto || self.msCrypto;\n\nmodule.exports = algorithm => {\n  if (typeof self === 'undefined' || !self.crypto && !self.msCrypto) {\n    throw new Error('Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context');\n  }\n\n  return async data => {\n    switch (algorithm) {\n      case 'sha1':\n        return Buffer.from((await crypto.subtle.digest({\n          name: 'SHA-1'\n        }, data)));\n\n      case 'sha2-256':\n        return Buffer.from((await crypto.subtle.digest({\n          name: 'SHA-256'\n        }, data)));\n\n      case 'sha2-512':\n        return Buffer.from((await crypto.subtle.digest({\n          name: 'SHA-512'\n        }, data)));\n\n      case 'dbl-sha2-256':\n        {\n          const d = await crypto.subtle.digest({\n            name: 'SHA-256'\n          }, data);\n          return Buffer.from((await crypto.subtle.digest({\n            name: 'SHA-256'\n          }, d)));\n        }\n\n      default:\n        throw new Error(\"\".concat(algorithm, \" is not a supported algorithm\"));\n    }\n  };\n};","map":null,"metadata":{},"sourceType":"script"}