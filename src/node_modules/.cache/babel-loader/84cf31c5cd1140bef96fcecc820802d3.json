{"ast":null,"code":"var _jsxFileName = \"/home/urjit/Documents/Blockchain/Etherium/SignContract/src/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport getWeb3 from './utils/getWeb3';\nimport $ from 'jquery';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      account: '0x0',\n      loading: true,\n      contractInstance: null,\n      msg: '0x0',\n      signature: '0x0',\n      web3: null\n    };\n\n    this.componentDidMount = async () => {\n      try {\n        $(\"#loader\").show();\n        $(\"#content\").hide();\n        const web3 = await getWeb3();\n        const accounts = await web3.eth.getAccounts();\n        const account = accounts[0];\n        console.log(account);\n        console.log(web3.currentprovider); //const networkId = await web3.eth.net.getId();\n\n        this.setState({\n          web3: web3,\n          account\n        }, this.getData); //const deployedAddress = await web3.eth.\n        //const contractInstance = new web3.eth.Contract()\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    this.getData = async => {\n      console.log(\"getData\");\n      const _this$state = this.state,\n            account = _this$state.account,\n            loading = _this$state.loading;\n      console.log(\"account:\" + account + \"loadin:\" + loading);\n\n      if (loading) {\n        $(\"#loader\").hide();\n        $(\"#content\").show();\n      }\n    };\n\n    this.signMessage = async => {\n      $(\"#loader\").show();\n      $(\"#content\").hide();\n      const _this$state2 = this.state,\n            web3 = _this$state2.web3,\n            account = _this$state2.account;\n      const message = web3.utils.sha3($(\"#message\").val());\n      console.log(\"message1234\" + message);\n      web3.eth.sign(account, message, function (err, res) {\n        console.log(err, res); //$('form').trigger('reset');\n\n        console.log(\"message:\" + message + \" signature:\" + res);\n        this.setState({\n          msg: message,\n          signature: res\n        });\n        $(\"#msg\").html(\"message:\" + '' + message);\n        $(\"#signature\").html(\"message:\" + '' + res);\n        $(\"#loader\").hide();\n        $(\"#content\").show();\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Dapp Token (DAPP)\")), React.createElement(\"nav\", {\n      className: \"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"navbar-brand col-sm-3 col-md-2 mr-0\",\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Ethereum Signatures\"), React.createElement(\"ul\", {\n      className: \"navbar-nav px-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"nav-item text-nowrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-link\",\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Your Account: \", React.createElement(\"div\", {\n      id: \"account\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      value: this.state.account,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }))))))), React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"main\", {\n      role: \"main\",\n      className: \"col-md-9 ml-sm-auto col-lg-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex justify-content-between flex-wrap flex-md-nowrap pt-3 pb-2 mb-3 border-bottom\",\n      style: {\n        marginTop: '40px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"loader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Loading...\")), React.createElement(\"div\", {\n      id: \"content\",\n      className: \"col-lg-9\",\n      style: {\n        display: 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Sign a Message\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Sign a message from your account with the form below and broadcast it to the blockchain!\"), React.createElement(\"form\", {\n      className: \"\",\n      ref: \"myForm\",\n      role: \"form\",\n      onSubmit: this.signMessage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"message\",\n      className: \"form-control\",\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Sign & Send\")), React.createElement(\"p\", {\n      id: \"msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      id: \"signature\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      id: \"verify\",\n      className: \"btn btn-primary\",\n      style: {\n        display: 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \" Verify Signature\"), React.createElement(\"p\", {\n      id: \"address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/urjit/Documents/Blockchain/Etherium/SignContract/src/src/App.js"],"names":["React","Component","getWeb3","$","App","state","account","loading","contractInstance","msg","signature","web3","componentDidMount","show","hide","accounts","eth","getAccounts","console","log","currentprovider","setState","getData","error","async","signMessage","message","utils","sha3","val","sign","err","res","html","render","marginTop","display"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './App.css';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport getWeb3 from './utils/getWeb3';\nimport $ from 'jquery';\n\n\n\nclass App extends Component {\n\n  state = {\n      account: '0x0',\n      loading: true,\n      contractInstance: null,\n      msg: '0x0',\n      signature: '0x0',\n      web3: null\n    }\n  \n\n  componentDidMount = async () => {\n    try{\n      $(\"#loader\").show();\n      $(\"#content\").hide();\n      const web3 = await getWeb3();\n      const accounts = await web3.eth.getAccounts();\n      const account = accounts[0];\n      console.log(account);\n      console.log(web3.currentprovider);\n      //const networkId = await web3.eth.net.getId();\n      this.setState({web3: web3, account}, this.getData);\n      //const deployedAddress = await web3.eth.\n      //const contractInstance = new web3.eth.Contract()\n    }\n    catch(error){\n      console.log(error)\n    }\n  }\n\n  getData = async => {\n    console.log(\"getData\");\n      const {account, loading} = this.state ;   \n      console.log(\"account:\"+ account + \"loadin:\"+ loading);\n      if(loading){\n        $(\"#loader\").hide();\n        $(\"#content\").show();\n      }\n  }\n  \n  signMessage = async => {\n    $(\"#loader\").show();\n    $(\"#content\").hide();\n    const {web3, account} = this.state;\n    \n    const message = web3.utils.sha3($(\"#message\").val());\n    console.log(\"message1234\"+ message);\n    web3.eth.sign(account, message, function(err,res){\n      console.log(err,res)\n      \n      //$('form').trigger('reset');\n      console.log(\"message:\"+ message + \" signature:\" + res)\n      this.setState({msg: message, signature: res })\n      $(\"#msg\").html(\"message:\"+ '' + message);\n      $(\"#signature\").html(\"message:\"+ '' + res);\n      $(\"#loader\").hide();\n      $(\"#content\").show();\n    \n    })\n\n  }\n\n  render() {\n  return (\n    <div className=\"App\">\n      <header >\n      <title>Dapp Token (DAPP)</title>\n      </header>\n      <nav className=\"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\">\n        <a className=\"navbar-brand col-sm-3 col-md-2 mr-0\" href=\"#\">Ethereum Signatures</a>\n        <ul className=\"navbar-nav px-3\">\n          <li className=\"nav-item text-nowrap\">\n            <small><a className=\"nav-link\" href=\"#\">Your Account: <div id=\"account\" ><span value={this.state.account}></span></div></a></small>\n          </li>\n        </ul>\n      </nav>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <main role=\"main\" className=\"col-md-9 ml-sm-auto col-lg-10\">\n            <div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap pt-3 pb-2 mb-3 border-bottom\" style={{marginTop: '40px'}}>\n              <div id=\"loader\">\n                <p className=\"text-center\">Loading...</p>\n              </div>\n              <div id=\"content\" className=\"col-lg-9\" style={{display: 'none'}}>\n                <h2>Sign a Message</h2>\n                <p>Sign a message from your account with the form below and broadcast it to the blockchain!</p>\n                <form  className=\"\" ref= \"myForm\" role=\"form\" onSubmit={this.signMessage}>\n                  <div className=\"form-group\">\n                    <input id=\"message\" className=\"form-control\" type=\"text\"></input>\n                  </div>\n                  <button type=\"submit\" className=\"btn btn-primary\">Sign & Send</button>\n                </form>\n                <p id=\"msg\"></p>\n                <p id=\"signature\"></p>\n                <button id=\"verify\" className=\"btn btn-primary\" style={{display: 'none'}}> Verify Signature</button>\n                <p id=\"address\"></p>\n              </div>\n            </div>\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n  }\n}  \nexport default App;\n"]},"metadata":{},"sourceType":"module"}