{"ast":null,"code":"var _jsxFileName = \"/home/urjit/Documents/Blockchain/Etherium/SignContract/src/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport getWeb3 from './utils/getWeb3';\nimport $ from 'jquery';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      account: '0x0',\n      loading: true,\n      contractInstance: null,\n      msg: '0x0',\n      signature: '0x0',\n      web3: null\n    };\n\n    this.componentDidMount = async () => {\n      try {\n        $(\"#loader\").show();\n        $(\"#content\").hide();\n        const web3 = await getWeb3();\n        const accounts = await web3.eth.getAccounts();\n        const account = accounts[0];\n        this.setState({\n          web3: web3,\n          account\n        }, this.getData);\n        alert(\"mount\");\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    this.getData = async => {\n      console.log(\"getData\");\n      const _this$state = this.state,\n            account = _this$state.account,\n            loading = _this$state.loading;\n      console.log(\"account:\" + account + \"loadin:\" + loading);\n\n      if (loading) {\n        $(\"#loader\").hide();\n        $(\"#content\").show();\n      }\n    };\n\n    this.signMessage = async => {\n      $(\"#loader\").show();\n      $(\"#content\").hide();\n      const _this$state2 = this.state,\n            web3 = _this$state2.web3,\n            account = _this$state2.account,\n            loading = _this$state2.loading;\n      this.setState({\n        loading: true\n      });\n      const message = web3.utils.sha3($(\"#message\").val());\n      console.log(\"message1234\" + message);\n      web3.currentProvider.sendAsync({\n        method: 'personal_sign',\n        params: [web3.utils.fromAscii(message), account],\n        from: account\n      }, function (err, res) {\n        alert(res);\n        console.log(err, res);\n        this.setState({\n          signature: res,\n          msg: message\n        });\n        $(\"#msg\").html(\"message:\" + '' + message);\n        $(\"#signature\").html(\"signature:\" + '' + res);\n        $(\"#loader\").hide();\n        $(\"#content\").show();\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Dapp Token (DAPP)\")), React.createElement(\"nav\", {\n      className: \"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"navbar-brand col-sm-3 col-md-2 mr-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Ethereum Signatures\"), React.createElement(\"ul\", {\n      className: \"navbar-nav px-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"nav-item text-nowrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Your Account: \", React.createElement(\"div\", {\n      id: \"account\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.state.account))))))), React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"main\", {\n      role: \"main\",\n      className: \"col-md-9 ml-sm-auto col-lg-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex justify-content-between flex-wrap flex-md-nowrap pt-3 pb-2 mb-3 border-bottom\",\n      style: {\n        marginTop: '40px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"loader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Loading...\")), React.createElement(\"div\", {\n      id: \"content\",\n      className: \"col-lg-9\",\n      style: {\n        display: 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Sign a Message\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Sign a message from your account with the form below and broadcast it to the blockchain!\"), React.createElement(\"form\", {\n      className: \"\",\n      ref: \"myForm\",\n      role: \"form\",\n      onSubmit: this.signMessage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"message\",\n      className: \"form-control\",\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Sign & Send\")), React.createElement(\"p\", {\n      id: \"msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, this.msg), React.createElement(\"p\", {\n      id: \"signature\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, this.signature), React.createElement(\"button\", {\n      id: \"verify\",\n      className: \"btn btn-primary\",\n      style: {\n        display: 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \" Verify Signature\"), React.createElement(\"p\", {\n      id: \"address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/urjit/Documents/Blockchain/Etherium/SignContract/src/src/App.js"],"names":["React","Component","getWeb3","$","App","state","account","loading","contractInstance","msg","signature","web3","componentDidMount","show","hide","accounts","eth","getAccounts","setState","getData","alert","error","console","log","async","signMessage","message","utils","sha3","val","currentProvider","sendAsync","method","params","fromAscii","from","err","res","html","render","marginTop","display"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './App.css';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport getWeb3 from './utils/getWeb3';\nimport $ from 'jquery';\n\n\n\nclass App extends Component {\n\n  state = {\n      account: '0x0',\n      loading: true,\n      contractInstance: null,\n      msg: '0x0',\n      signature: '0x0',\n      web3: null\n    }  \n\n  componentDidMount = async () => {\n    try{\n      $(\"#loader\").show();\n      $(\"#content\").hide();\n      const web3 = await getWeb3();\n      const accounts = await web3.eth.getAccounts();\n      const account = accounts[0];\n      this.setState({web3: web3, account}, this.getData);      \n      alert(\"mount\");\n    }\n    catch(error){\n      console.log(error)\n    }\n  }\n\n  getData = async => {\n    console.log(\"getData\");\n      const {account, loading} = this.state ;   \n      console.log(\"account:\"+ account + \"loadin:\"+ loading);\n      if(loading){\n        $(\"#loader\").hide();\n        $(\"#content\").show();\n      }\n  }\n  \n  signMessage = async => {\n    $(\"#loader\").show();\n    $(\"#content\").hide();\n    const {web3, account, loading } = this.state;\n    this.setState({loading: true});\n    const message = web3.utils.sha3($(\"#message\").val());\n    console.log(\"message1234\"+ message);\n    web3.currentProvider.sendAsync({\n      method: 'personal_sign',\n      params: [\n        web3.utils.fromAscii(message),\n        account,\n      ],\n      from: account,\n    }, function (err, res) {\n      alert(res);\n      console.log(err, res);\n      this.setState({signature: res, msg: message});\n      \n      $(\"#msg\").html(\"message:\"+ '' + message);\n      $(\"#signature\").html(\"signature:\"+ '' + res);\n      \n      $(\"#loader\").hide();\n      $(\"#content\").show();\n    });   \n  }\n\n  render() {\n    \n  return (\n    <div className=\"App\">\n      <header >\n      <title>Dapp Token (DAPP)</title>\n      </header>\n      <nav className=\"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\">\n        <a className=\"navbar-brand col-sm-3 col-md-2 mr-0\" >Ethereum Signatures</a>\n        <ul className=\"navbar-nav px-3\">\n          <li className=\"nav-item text-nowrap\">\n            <small><a className=\"nav-link\" >Your Account: <div id=\"account\" ><span >{this.state.account}</span></div></a></small>\n          </li>\n        </ul>\n      </nav>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <main role=\"main\" className=\"col-md-9 ml-sm-auto col-lg-10\">\n            <div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap pt-3 pb-2 mb-3 border-bottom\" style={{marginTop: '40px'}}>\n              <div id=\"loader\">\n                <p className=\"text-center\">Loading...</p>\n              </div>\n              <div id=\"content\" className=\"col-lg-9\" style={{display: 'none'}}>\n                <h2>Sign a Message</h2>\n                <p>Sign a message from your account with the form below and broadcast it to the blockchain!</p>\n                <form  className=\"\" ref= \"myForm\" role=\"form\" onSubmit={this.signMessage}>\n                  <div className=\"form-group\">\n                    <input id=\"message\" className=\"form-control\" type=\"text\"></input>\n                  </div>\n                  <button type=\"submit\" className=\"btn btn-primary\">Sign & Send</button>\n                </form>\n                <p id=\"msg\">{this.msg}</p>\n                <p id=\"signature\">{this.signature}</p>\n                <button id=\"verify\" className=\"btn btn-primary\" style={{display: 'none'}}> Verify Signature</button>\n                <p id=\"address\"></p>\n              </div>\n            </div>\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n  }\n}  \nexport default App;\n"]},"metadata":{},"sourceType":"module"}