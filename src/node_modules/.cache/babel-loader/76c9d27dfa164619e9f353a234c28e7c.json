{"ast":null,"code":"'use strict';\n\nconst dagNodeUtil = require('./util');\n\nconst cloneLinks = dagNodeUtil.cloneLinks;\nconst cloneData = dagNodeUtil.cloneData;\n\nconst create = require('./create');\n\nconst CID = require('cids');\n\nconst rmLink = (dagNode, nameOrCid) => {\n  const data = cloneData(dagNode);\n  let links = cloneLinks(dagNode);\n\n  if (typeof nameOrCid === 'string') {\n    links = links.filter(link => link.Name !== nameOrCid);\n  } else if (Buffer.isBuffer(nameOrCid) || CID.isCID(nameOrCid)) {\n    links = links.filter(link => !link.Hash.equals(nameOrCid));\n  } else {\n    throw new Error('second arg needs to be a name or CID');\n  }\n\n  return create(data, links);\n};\n\nmodule.exports = rmLink;","map":null,"metadata":{},"sourceType":"script"}